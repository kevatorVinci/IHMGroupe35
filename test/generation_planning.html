<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>G√©n√©ration Planning - Vinci Arena</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        /* --- Styles globaux --- */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Roboto', sans-serif; background-color: #f0f2f5; color: #334155; padding-bottom: 80px; }

        /* --- Navbar Admin --- */
        .navbar {
            background-color: #112b4f; height: 70px; padding: 0 40px;
            display: flex; justify-content: space-between; align-items: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2); position: sticky; top: 0; z-index: 1000;
        }
        .nav-brand { display: flex; align-items: center; gap: 10px; }
        .logo-img-nav { height: 45px; width: auto; border-radius: 4px; display: block; }
        .admin-badge {
            background-color: #b45309; color: white; padding: 3px 8px; border-radius: 4px;
            font-size: 10px; font-weight: 700; text-transform: uppercase; letter-spacing: 1px;
        }
        .nav-right-group { display: flex; align-items: center; gap: 30px; }
        .nav-links { display: flex; align-items: center; gap: 20px; }
        .nav-links a { color: rgba(255,255,255,0.8); text-decoration: none; font-weight: 500; font-size: 15px; transition: 0.2s; }
        .nav-links a:hover { color: white; }
        
        /* MODIFICATION ICI : Lien actif en ORANGE */
        .nav-links a.active { color: #f59e0b; font-weight: 700; } 

        .nav-user { display: flex; align-items: center; gap: 20px; padding-left: 20px; border-left: 1px solid rgba(255,255,255,0.2); }
        .nav-avatar { width: 35px; height: 35px; border-radius: 4px; background-color: white; padding: 2px; display: block; }
        .btn-exit {
            border: 1px solid rgba(255,255,255,0.3); padding: 6px 12px; border-radius: 4px;
            color: rgba(255,255,255,0.9) !important; font-size: 12px; display: flex; align-items: center; gap: 6px; text-decoration: none; transition: 0.2s;
        }
        .btn-exit:hover { background-color: rgba(255,255,255,0.1); color: white !important; border-color: white; }

        /* --- Contenu Principal --- */
        .main-container { max-width: 1200px; margin: 40px auto; padding: 0 20px; }
        
        /* En-t√™te Tournoi */
        .tournament-header {
            background: white; padding: 25px; border-radius: 12px; border: 1px solid #e2e8f0;
            display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;
        }
        .t-info h1 { font-size: 24px; color: #0f172a; margin-bottom: 5px; }
        .t-meta { color: #64748b; font-size: 14px; display: flex; gap: 15px; }
        
        /* Zone d'action G√©n√©ration */
        .generation-controls {
            text-align: center; padding: 40px; background: #e0f2fe; border-radius: 8px; border: 2px dashed #38bdf8;
            margin-bottom: 30px; display: block;
        }
        .btn-generate {
            background-color: #0f172a; color: white; padding: 12px 25px; border-radius: 6px; font-size: 16px; font-weight: 600;
            border: none; cursor: pointer; display: inline-flex; align-items: center; gap: 10px; transition: 0.2s; text-decoration: none;
        }
        .btn-generate:hover { background-color: #1e293b; transform: scale(1.02); }

        /* --- Arbre des Matchs (Bracket) --- */
        .bracket-container {
            display: none; overflow-x: auto; padding-bottom: 20px;
        }
        
        .bracket-wrapper { display: flex; gap: 40px; min-width: 900px; }

        .round-column { flex: 1; display: flex; flex-direction: column; justify-content: space-around; gap: 20px; }
        
        .round-title {
            text-align: center; font-weight: 700; color: #b45309; text-transform: uppercase; font-size: 13px; margin-bottom: 15px; letter-spacing: 1px;
        }

        /* Carte de Match */
        .match-card {
            background: white; border: 1px solid #cbd5e1; border-radius: 6px; padding: 10px;
            position: relative; box-shadow: 0 2px 5px rgba(0,0,0,0.03); transition: 0.2s;
        }
        .match-card:hover { border-color: #b45309; }

        .match-card::after {
            content: ''; position: absolute; right: -20px; top: 50%; width: 20px; height: 2px; background: #cbd5e1; display: none;
        }
        .has-connector::after { display: block; }

        .match-team { display: flex; justify-content: space-between; padding: 6px; border-radius: 4px; font-size: 13px; font-weight: 500; }
        .match-team:nth-child(1) { border-bottom: 1px solid #f1f5f9; }
        .match-team.bye { color: #94a3b8; font-style: italic; }

        .admin-controls { margin-top: 8px; padding-top: 8px; border-top: 1px solid #f1f5f9; display: flex; gap: 5px; }
        .match-info-text { font-size: 11px; color: #64748b; }

        /* Barre de publication */
        .publish-bar {
            position: fixed; bottom: 0; left: 0; width: 100%; background: white; padding: 15px;
            border-top: 1px solid #e2e8f0; display: none; justify-content: center; gap: 15px; box-shadow: 0 -4px 10px rgba(0,0,0,0.05); z-index: 900;
        }
    </style>
</head>
<body>

    <header class="navbar">
        <div class="nav-brand">
            <a href="admin_tournois.html"><img src="image/imageLogo.png" alt="Logo" class="logo-img-nav"></a>
            <span class="admin-badge">ADMIN</span>
        </div>
        <div class="nav-right-group">
            <nav class="nav-links">
                <a href="admin_tournois.html" class="active">Gestion Tournoi</a>
                <a href="gestion_admins.html">Admin</a>
            </nav>
            <div class="nav-user">
                <a href="accueil.html" class="btn-exit" title="Retourner au site public">
                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
                    Vue Joueur
                </a>
                <a href="profil.html">
                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" class="nav-avatar" alt="Mon Profil">
                </a>
            </div>
        </div>
    </header>

    <main class="main-container">
        <div class="tournament-header">
            <div class="t-info">
                <h1>Coupe de Printemps 2026</h1>
                <div class="t-meta">
                    <span>üìÖ 15 Mars - 20 Mars</span>
                    <span>üë• 7 √âquipes inscrites</span>
                    <span style="color: #b45309; font-weight: 600;">üîí Inscriptions closes</span>
                </div>
            </div>
            <a href="admin_tournois.html" class="btn-exit" style="background: white; color: #334155 !important; border-color: #cbd5e1;">Retour</a>
        </div>

        <div id="pre-generation" class="generation-controls">
            <h3 style="margin-bottom: 10px;">Le planning n'a pas encore √©t√© g√©n√©r√©</h3>
            <p style="color: #64748b; margin-bottom: 20px;">
                Les inscriptions sont closes. Vous pouvez maintenant g√©n√©rer l'arbre des rencontres.<br>
                L'algorithme g√©rera automatiquement les nombres d'√©quipes impairs.
            </p>
            <button class="btn-generate" onclick="generateBracket()">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/><polyline points="3.27 6.96 12 12.01 20.73 6.96"/><line x1="12" y1="22.08" x2="12" y2="12"/></svg>
                G√©n√©rer le Planning Al√©atoire
            </button>
        </div>

        <div id="bracket-view" class="bracket-container">
            <div class="bracket-wrapper">
                
                <div class="round-column">
                    <div class="round-title">Quarts de Finale</div>
                    <div class="match-card has-connector">
                        <div class="match-team">Alpha Squad</div>
                        <div class="match-team">Omega Team</div>
                        <div class="admin-controls"><span class="match-info-text">15/03 - 14:00</span></div>
                    </div>
                    <div class="match-card has-connector">
                        <div class="match-team">Les Spartiates</div>
                        <div class="match-team">Vinci Warriors</div>
                        <div class="admin-controls"><span class="match-info-text">15/03 - 15:00</span></div>
                    </div>
                    <div class="match-card has-connector">
                        <div class="match-team">Cyber Punks</div>
                        <div class="match-team">Noob Slayers</div>
                        <div class="admin-controls"><span class="match-info-text">15/03 - 16:00</span></div>
                    </div>
                    <div class="match-card has-connector" style="opacity: 0.7; background: #f8fafc;">
                        <div class="match-team">Solo Carry Team</div>
                        <div class="match-team bye">--- NULL ---</div>
                        <div class="admin-controls"><span class="match-info-text" style="color:#166534">Qualifi√© d'office</span></div>
                    </div>
                </div>

                <div class="round-column">
                    <div class="round-title">Demi-Finales</div>
                    <div class="match-card has-connector">
                        <div class="match-team">Vainqueur QF1</div>
                        <div class="match-team">Vainqueur QF2</div>
                        <div class="admin-controls"><span class="match-info-text">18/03 - 18:00</span></div>
                    </div>
                    <div class="match-card has-connector">
                        <div class="match-team">Vainqueur QF3</div>
                        <div class="match-team">Solo Carry Team</div>
                        <div class="admin-controls"><span class="match-info-text">18/03 - 19:00</span></div>
                    </div>
                </div>

                <div class="round-column">
                    <div class="round-title">Grande Finale</div>
                    <div class="match-card" style="border: 2px solid #b45309;">
                        <div class="match-team">Vainqueur DF1</div>
                        <div class="match-team">Vainqueur DF2</div>
                        <div class="admin-controls"><span class="match-info-text">20/03 - 20:00</span></div>
                    </div>
                </div>

            </div>
        </div>

        <div id="publish-bar" class="publish-bar">
            <button class="btn-generate" style="background-color: white; color: #334155; border: 1px solid #cbd5e1; font-size: 14px;" onclick="regenerate()">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.3"/></svg>
                Re-m√©langer
            </button>
            
            <a href="edition_planning.html" class="btn-generate" style="background-color: #f1f5f9; color: #334155; border: 1px solid #cbd5e1; font-size: 14px;">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
                Modifier Manuellement
            </a>

            <button class="btn-generate" style="background-color: #b45309; font-size: 14px;" onclick="publishPlanning()">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
                Valider et Publier
            </button>
        </div>

    </main>

    <script>
        function generateBracket() {
            document.getElementById('pre-generation').style.display = 'none';
            document.getElementById('bracket-view').style.display = 'block';
            document.getElementById('publish-bar').style.display = 'flex';
        }

        function regenerate() {
            if(confirm("Cela va g√©n√©rer un nouvel arbre al√©atoire. Continuer ?")) {
                alert("Nouveau tirage effectu√© !");
            }
        }

        function publishPlanning() {
            if(confirm("√ätes-vous s√ªr de vouloir publier ce planning ?")) {
                alert("Planning publi√© avec succ√®s !");
                window.location.href = "admin_tournois.html";
            }
        }
    </script>

</body>
</html>